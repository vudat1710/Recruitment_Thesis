{"ast":null,"code":"var _jsxFileName = \"/home/vudat1710/Downloads/Thesis/Recruitment_Thesis/web_app/src/components/Search/Search.jsx\";\nimport React, { Component } from \"react\";\nimport { Link, withRouter, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Banner from \"../../assets/img/banner.jpg\";\nimport { getNumAllPosts, getDataAutoComplete, searchPosts } from \"../../actions/post.action\";\nimport PropTypes from \"prop-types\";\nimport AutoCompleteText from \"../HOC/AutoCompleteText\";\nimport classnames from \"classnames\";\n\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getChildState = data => {\n      if (data.name === \"positionTypes\") {\n        this.setState({ ...this.state,\n          positionTypes: data.text\n        });\n      } else if (data.name === \"workplaces\") {\n        this.setState({ ...this.state,\n          workplaces: data.text\n        });\n      } else if (data.name === \"majors\") {\n        this.setState({ ...this.state,\n          majors: data.text\n        });\n      }\n    };\n\n    this.state = {\n      isShow: false,\n      numAllPosts: 0,\n      dataAuto: null,\n      positionTypes: \"\",\n      workplaces: \"\",\n      majors: \"\",\n      loading: false // resultPosts: []\n\n    };\n  }\n\n  async componentDidMount() {\n    await this.props.getNumAllPosts({\n      type: \"all\",\n      numPosts: 0\n    });\n    await this.props.getDataAutoComplete();\n    this.setState({ ...this.state,\n      numAllPosts: this.props.posts.numAllPosts,\n      dataAuto: this.props.posts.autoComplete,\n      loading: true,\n      redirect: false\n    });\n  }\n\n  async onSearchClick() {\n    const {\n      positionTypes,\n      workplaces,\n      majors\n    } = this.state;\n    const searchData = {\n      positions: positionTypes,\n      workplaces: workplaces,\n      majors: majors\n    };\n    await this.props.searchPosts(searchData);\n    this.setState({ ...this.state,\n      redirect: true\n    });\n  }\n\n  render() {\n    const {\n      numAllPosts,\n      dataAuto,\n      loading\n    } = this.state;\n\n    if (!loading) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null);\n    } else {\n      return /*#__PURE__*/React.createElement(\"header\", {\n        className: \"site-header size-lg text-center\",\n        style: {\n          backgroundImage: `url(${Banner})`\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-xs-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 15\n        }\n      }, \"Hi\\u1EC7n t\\u1EA1i \\u0111ang c\\xF3 \", /*#__PURE__*/React.createElement(\"mark\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 34\n        }\n      }, numAllPosts), \" c\\xF4ng vi\\u1EC7c tr\\xEAn h\\u1EC7 th\\u1ED1ng\"), /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"font-alt\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 15\n        }\n      }, \"T\\xECm c\\xF4ng vi\\u1EC7c b\\u1EA1n mong mu\\u1ED1n tr\\xEAn h\\u1EC7 th\\u1ED1ng\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"form\", {\n        className: \"header-job-search\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-keyword\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(AutoCompleteText, {\n        name: \"positionTypes\",\n        items: dataAuto.positions,\n        value: \"\",\n        getChildState: this.getChildState,\n        placeholder: \"V\\u1ECB tr\\xED \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-location\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(AutoCompleteText, {\n        name: \"workplaces\",\n        items: dataAuto.workplaces,\n        value: \"\",\n        getChildState: this.getChildState,\n        placeholder: \"\\u0110\\u1ECBa \\u0111i\\u1EC3m\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-major\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(AutoCompleteText, {\n        name: \"majors\",\n        items: dataAuto.majors,\n        value: \"\",\n        getChildState: this.getChildState,\n        placeholder: \"Ng\\xE0nh ngh\\u1EC1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"btn-search\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        type: \"submit\",\n        onClick: () => {\n          this.onSearchClick();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 19\n        }\n      }, \"T\\xECm ki\\u1EBFm\"), /*#__PURE__*/React.createElement(Link, {\n        to: \"/advancedSearch\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 19\n        }\n      }, \"T\\xECm ki\\u1EBFm n\\xE2ng cao\"))))));\n    }\n  }\n\n}\n\nSearch.propTypes = {\n  posts: PropTypes.object.isRequired,\n  getNumAllPosts: PropTypes.func.isRequired,\n  getDataAutoComplete: PropTypes.func.isRequired,\n  searchPosts: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  posts: state.posts\n});\n\nconst mapDispatchToProps = {\n  getNumAllPosts,\n  getDataAutoComplete,\n  searchPosts\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);","map":{"version":3,"sources":["/home/vudat1710/Downloads/Thesis/Recruitment_Thesis/web_app/src/components/Search/Search.jsx"],"names":["React","Component","Link","withRouter","Redirect","connect","Banner","getNumAllPosts","getDataAutoComplete","searchPosts","PropTypes","AutoCompleteText","classnames","Search","constructor","props","getChildState","data","name","setState","state","positionTypes","text","workplaces","majors","isShow","numAllPosts","dataAuto","loading","componentDidMount","type","numPosts","posts","autoComplete","redirect","onSearchClick","searchData","positions","render","backgroundImage","propTypes","object","isRequired","func","mapStateToProps","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link, withRouter, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Banner from \"../../assets/img/banner.jpg\";\nimport { getNumAllPosts, getDataAutoComplete, searchPosts } from \"../../actions/post.action\";\nimport PropTypes from \"prop-types\";\nimport AutoCompleteText from \"../HOC/AutoCompleteText\";\nimport classnames from \"classnames\";\n\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isShow: false,\n      numAllPosts: 0,\n      dataAuto: null,\n      positionTypes: \"\",\n      workplaces: \"\",\n      majors: \"\",\n      loading: false,\n      // resultPosts: []\n    };\n  }\n\n  async componentDidMount() {\n    await this.props.getNumAllPosts({ type: \"all\", numPosts: 0 });\n    await this.props.getDataAutoComplete();\n    this.setState({\n      ...this.state,\n      numAllPosts: this.props.posts.numAllPosts,\n      dataAuto: this.props.posts.autoComplete,\n      loading: true,\n      redirect: false\n    });\n  }\n\n  getChildState = (data) => {\n    if (data.name === \"positionTypes\") {\n      this.setState({\n        ...this.state,\n        positionTypes: data.text,\n      });\n    } else if (data.name === \"workplaces\") {\n      this.setState({\n        ...this.state,\n        workplaces: data.text,\n      });\n    } else if (data.name === \"majors\") {\n      this.setState({\n        ...this.state,\n        majors: data.text,\n      });\n    }\n  };\n\n  async onSearchClick() {\n    const { positionTypes, workplaces, majors } = this.state;\n    const searchData={\n      positions: positionTypes,\n      workplaces: workplaces,\n      majors: majors\n    }\n    await this.props.searchPosts(searchData);\n    this.setState({\n      ...this.state,\n      redirect: true,\n    })\n  }\n\n  render() {\n    const { numAllPosts, dataAuto, loading } = this.state;\n    if (!loading) {\n      return <></>;\n    } else {\n      return (\n        <header\n          className=\"site-header size-lg text-center\"\n          style={{\n            backgroundImage: `url(${ Banner })`,\n          }}\n        >\n          <div className=\"container\">\n            <div className=\"col-xs-12\">\n              <br />\n              <br />\n              <h2>\n                Hiện tại đang có <mark>{numAllPosts}</mark> công việc trên hệ\n                thống\n              </h2>\n              <h5 className=\"font-alt\">\n                Tìm công việc bạn mong muốn trên hệ thống\n              </h5>\n              <br />\n              <br />\n              <br />\n              <form className=\"header-job-search\">\n                <div className=\"input-keyword\">\n                  <AutoCompleteText\n                    name=\"positionTypes\"\n                    items={dataAuto.positions}\n                    value=\"\"\n                    getChildState={this.getChildState}\n                    placeholder=\"Vị trí \"\n                  />\n                </div>\n\n                <div className=\"input-location\">\n                  <AutoCompleteText\n                    name=\"workplaces\"\n                    items={dataAuto.workplaces}\n                    value=\"\"\n                    getChildState={this.getChildState}\n                    placeholder=\"Địa điểm\"\n                  />\n                </div>\n\n                <div className=\"input-major\">\n                  <AutoCompleteText\n                    name=\"majors\"\n                    items={dataAuto.majors}\n                    value=\"\"\n                    getChildState={this.getChildState}\n                    placeholder=\"Ngành nghề\"\n                  />\n                </div>\n\n                <div className=\"btn-search\">\n                  <button className=\"btn btn-primary\" type=\"submit\" onClick={() => {this.onSearchClick()}}>\n                    Tìm kiếm\n                  </button>\n                  <Link to=\"/advancedSearch\">Tìm kiếm nâng cao</Link>\n                </div>\n              </form>\n            </div>\n          </div>\n        </header>\n      );\n    }\n  }\n}\n\nSearch.propTypes = {\n  posts: PropTypes.object.isRequired,\n  getNumAllPosts: PropTypes.func.isRequired,\n  getDataAutoComplete: PropTypes.func.isRequired,\n  searchPosts: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({ posts: state.posts });\n\nconst mapDispatchToProps = { getNumAllPosts, getDataAutoComplete, searchPosts };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);\n"]},"metadata":{},"sourceType":"module"}